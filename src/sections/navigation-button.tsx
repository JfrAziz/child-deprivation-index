import { useEffect, useRef, useState } from "react";

export const NavigationButton = () => {
  const [theme, setTheme] = useState("synthwave"); //default theme 'synthwave'
  const themes = ["dark", "synthwave"];

  const ref = useRef(null);

  const [scrollPosition, setScrollPosition] = useState(0);
  useEffect(() => {
    const updatePosition = () => {
      setScrollPosition(window.pageYOffset);
    };

    window.addEventListener("scroll", updatePosition);
    updatePosition();

    return () => window.removeEventListener("scroll", updatePosition);
  }, []);

  useEffect(() => {
    const body = document.documentElement;
    body.setAttribute("data-theme", theme);
  }, [theme]);

  return (
    <section>
      <div className="dropdown dropdown-end bg-base-300 fixed right-4 top-2 rounded-full z-[70]">
        <div
          tabIndex={0}
          role="button"
          className="btn btn-ghost btn-circle text-neutral-content"
        >
          <svg
            width="20"
            height="20"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            className="h-5 w-5 stroke-current "
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"
            ></path>
          </svg>
        </div>
        <div
          tabIndex={0}
          className="dropdown-content bg-base-300 mt-1 grid w-56 grid-cols-1 overflow-y-auto rounded-lg p-2 "
        >
          {themes.map((item: string, index: number) => (
            <span
              key={index}
              className={(theme == item && "bg-accent rounded-btn ") + ""}
            >
              <button
                className="outline-base-content p-3 text-start outline-offset-4"
                onClick={() => {
                  setTheme(item);
                }}
              >
                <div
                  data-theme={item}
                  className="bg-base-300 rounded-btn text-base-content block w-full cursor-pointer items-center justify-center font-sans"
                >
                  <span className="grid grid-cols-5 grid-rows-3">
                    <span className="row-span-3 flex gap-4 px-4 py-3">
                      <span className="flex h-full shrink-0 flex-wrap gap-1 text-right">
                        <span className="bg-primary rounded-badge w-2" />
                        <span className="bg-secondary rounded-badge w-2" />
                        <span className="bg-accent rounded-badge w-2" />
                        <span className="bg-neutral rounded-badge w-2" />
                      </span>
                      <span className="flex-grow text-sm">{item}</span>
                    </span>
                  </span>
                </div>
              </button>
            </span>
          ))}
        </div>
      </div>

      {scrollPosition > 0 && (
        <span
          ref={ref}
          style={{
            transform: "translateX(100%)",
            transition: "all 1s cubic-bezier(0.17, 0.55, 0.55, 1) 5s",
          }}
        >
          <div className="flex justify-end h-screen fixed p-2 flex-col right-8 bottom-32 z-[60]">
            <ul className="border-s flex flex-col gap-16 ">
              <li className="bg-base-300 rounded-full ">
                <button
                  onClick={() => {
                    window.scrollTo(0, 0);
                  }}
                  className="absolute flex items-center justify-center btn btn-circle -start-4 text-neutral-content bg-base-300 "
                >
                  <svg
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    viewBox="0 0 24 24"
                    className="h-6 w-6 stroke-current "
                  >
                    <path d="M16 9L12 5M12 5L8 9M12 5V19" />
                  </svg>
                </button>
              </li>
              <li className="bg-base-300 rounded-full">
                <button
                  onClick={() => {
                    document
                      .getElementById("poverty-rate")
                      ?.scrollIntoView({ behavior: "smooth" });
                  }}
                  className="absolute flex items-center justify-center btn btn-circle -start-4 text-neutral-content bg-base-300 "
                >
                  <svg
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    viewBox="0 0 60 60"
                    className="h-5 w-5 stroke-current "
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M14.457,25.904c-1.93,0-3.5,1.57-3.5,3.5s1.57,3.5,3.5,3.5s3.5-1.57,3.5-3.5S16.387,25.904,14.457,25.904z M14.457,30.904   c-0.827,0-1.5-0.673-1.5-1.5s0.673-1.5,1.5-1.5s1.5,0.673,1.5,1.5S15.284,30.904,14.457,30.904z"
                    />

                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M59.965,32.904c0-1.535-0.584-2.933-1.536-3.995c0.092-1.157-0.096-2.332-0.58-3.415c-0.226-0.505-0.819-0.732-1.321-0.504   c-0.504,0.226-0.73,0.817-0.504,1.321c0.158,0.354,0.266,0.722,0.338,1.096c-0.735-0.321-1.544-0.502-2.396-0.502   c-0.059,0-0.11,0.024-0.167,0.034c-0.112-0.008-0.219-0.034-0.333-0.034c-0.246,0-0.482,0.034-0.717,0.072   c-1.874-4.454-5.11-8.074-9.437-10.554c0.419-1.257,0.645-2.579,0.645-3.922c0-6.893-5.607-12.5-12.5-12.5s-12.5,5.607-12.5,12.5   c0,0.94,0.108,1.863,0.309,2.756c-0.892,0.292-1.684,0.573-2.31,0.82c-4.385-1.751-7.24-2.354-9.793-2.07   c-0.607,0.067-1.084,0.516-1.187,1.116c-0.104,0.608,0.202,1.197,0.76,1.465c1.358,0.654,1.936,2.238,2.548,3.916   c0.153,0.421,0.311,0.851,0.482,1.272c-2.608,2.7-3.09,4.888-3.557,8.129H4.949c-3.123,0-4.914,2.222-4.914,6.096v3.607   c0,3.943,1.837,6.297,4.914,6.297h0.617c0.732,1.852,1.82,3.543,3.186,5.064l-1.381,3.452c-0.502,1.255-0.35,2.673,0.408,3.792   S9.797,60,11.149,60h6.74c0.852,0,1.607-0.511,1.925-1.303l0.367-0.917c3.191,0.936,6.738,1.44,10.518,1.44   c3.094,0,5.984-0.393,8.616-1.128l0.004,0.015C39.66,59.239,40.683,60,41.866,60h6.017c1.434,0,2.731-0.671,3.56-1.842   s1.03-2.617,0.552-3.97l-1.171-3.319c2.649-3.27,4.143-7.347,4.143-11.966c0-0.03-0.003-0.06-0.003-0.09   C57.797,38.337,59.965,35.872,59.965,32.904z M53.832,33.867l-0.169,0.013c-0.057,0.004-0.113,0.011-0.197,0.024   c-1.378,0-2.5-1.122-2.5-2.5c0-0.156,0.019-0.307,0.046-0.455c0.008-0.042,0.019-0.083,0.028-0.124   c0.026-0.111,0.06-0.218,0.1-0.323c0.014-0.036,0.027-0.073,0.043-0.109c0.119-0.267,0.283-0.509,0.483-0.718   c0.035-0.036,0.073-0.07,0.111-0.104c0.065-0.06,0.133-0.116,0.204-0.169c0.054-0.04,0.109-0.079,0.166-0.115   c0.058-0.036,0.12-0.067,0.181-0.098c0.069-0.035,0.136-0.073,0.209-0.103l0.009-0.004c0.285-0.113,0.594-0.18,0.918-0.18   c1.378,0,2.5,1.122,2.5,2.5C55.965,32.657,55.036,33.687,53.832,33.867z M31.457,2c5.79,0,10.5,4.71,10.5,10.5   c0,1.256-0.227,2.469-0.645,3.608l-0.155,0.375c-0.496,1.199-1.215,2.307-2.096,3.239c-0.124-0.058-0.254-0.095-0.379-0.15   c-0.293-0.127-0.589-0.242-0.888-0.351c-0.258-0.094-0.514-0.19-0.775-0.271c-0.283-0.086-0.569-0.153-0.855-0.223   c-0.521-0.128-1.045-0.228-1.573-0.302c-0.25-0.035-0.5-0.079-0.751-0.102c-0.312-0.029-0.624-0.035-0.938-0.045   c-0.256-0.008-0.511-0.016-0.767-0.012c-0.3,0.005-0.599,0.021-0.898,0.043c-0.284,0.021-0.566,0.052-0.849,0.088   c-0.27,0.035-0.539,0.067-0.807,0.116c-0.383,0.069-0.762,0.161-1.141,0.258c-0.165,0.043-0.333,0.073-0.497,0.121   c-0.55,0.161-1.092,0.357-1.625,0.58c-0.122,0.051-0.24,0.113-0.361,0.167c-0.428,0.191-0.85,0.4-1.263,0.632   c-0.059,0.033-0.121,0.056-0.179,0.09c-0.333-0.294-0.643-0.611-0.934-0.943c-0.04-0.045-0.075-0.093-0.114-0.138   c-0.261-0.308-0.507-0.628-0.731-0.964c-0.017-0.026-0.034-0.051-0.051-0.077c-0.495-0.759-0.896-1.583-1.186-2.46l-0.109-0.335   c-0.276-0.944-0.432-1.931-0.432-2.945C20.957,6.71,25.667,2,31.457,2z M17.889,58h-6.74c-0.698,0-1.322-0.332-1.713-0.909   s-0.467-1.281-0.208-1.928l1.06-2.651c2.171,1.931,4.868,3.502,7.965,4.635L17.889,58z M49.809,57.003   C49.361,57.637,48.659,58,47.882,58h-6.017c-0.293,0-0.546-0.188-0.63-0.469l-0.016-0.052c3.171-1.145,5.901-2.822,8.073-4.936   l0.816,2.311C50.367,55.586,50.258,56.369,49.809,57.003z M48.161,50.812c-0.008,0.008-0.016,0.018-0.024,0.026   c-0.404,0.41-0.836,0.798-1.285,1.173c-0.109,0.091-0.223,0.177-0.335,0.266c-0.333,0.265-0.678,0.519-1.033,0.765   c-0.154,0.107-0.307,0.216-0.465,0.319c-0.451,0.294-0.917,0.576-1.401,0.839c-0.164,0.089-0.336,0.169-0.503,0.254   C42.751,54.64,42.38,54.819,42,54.987c-0.207,0.091-0.414,0.181-0.625,0.267c-0.452,0.184-0.915,0.357-1.388,0.516   c-0.105,0.035-0.205,0.077-0.311,0.111l-0.042,0.013c-2.684,0.859-5.687,1.324-8.935,1.324c-4.119,0-7.97-0.666-11.344-1.86   c-0.199-0.07-0.399-0.138-0.594-0.211c-5.708-2.162-9.943-5.889-11.553-10.57l-0.232-0.675H4.949c-2.409,0-2.914-2.336-2.914-4.297   V36c0-4.096,2.193-4.096,2.914-4.096h3l0.12-0.862c0.524-3.747,0.787-5.628,3.582-8.322l0.517-0.498l-0.306-0.649   c-0.253-0.537-0.469-1.128-0.698-1.755c-0.48-1.317-1.005-2.756-1.989-3.848c1.905,0.145,4.205,0.81,7.406,2.11l0.382,0.155   l0.38-0.159c0.613-0.256,1.508-0.579,2.532-0.915c0.199,0.494,0.431,0.972,0.692,1.436c0.02,0.036,0.041,0.072,0.061,0.109   c0.236,0.41,0.496,0.806,0.779,1.188c0.05,0.069,0.098,0.139,0.15,0.206c0.265,0.343,0.551,0.67,0.853,0.987   c0.074,0.078,0.141,0.16,0.216,0.236c0.063,0.063,0.126,0.125,0.19,0.186c-0.542,0.416-1.07,0.857-1.566,1.352   c-0.391,0.391-0.391,1.023,0,1.414s1.023,0.391,1.414,0c0.653-0.653,1.357-1.223,2.097-1.716l0.16-0.103   c0.305-0.197,0.616-0.379,0.932-0.55c0.128-0.069,0.258-0.132,0.387-0.197c0.252-0.126,0.506-0.244,0.763-0.354   c0.102-0.043,0.202-0.089,0.305-0.13c0.363-0.144,0.731-0.273,1.102-0.385c0.062-0.019,0.125-0.034,0.187-0.052   c0.363-0.103,0.728-0.194,1.097-0.267c0.035-0.007,0.07-0.015,0.105-0.022c2.579-0.491,5.272-0.242,7.735,0.746   c0.024,0.01,0.048,0.019,0.072,0.029c1.643,0.67,3.183,1.67,4.515,3.001c0.195,0.195,0.451,0.293,0.707,0.293   s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414c-0.828-0.828-1.731-1.535-2.68-2.14c0.081-0.093,0.15-0.194,0.228-0.289   c0.136-0.166,0.272-0.332,0.4-0.506c0.125-0.169,0.243-0.342,0.36-0.517c0.096-0.144,0.188-0.289,0.278-0.437   c0.118-0.194,0.232-0.389,0.339-0.588c0.023-0.043,0.051-0.084,0.073-0.127c3.829,2.25,6.701,5.487,8.376,9.447   c-0.206,0.141-0.393,0.304-0.571,0.475c-0.032,0.031-0.064,0.062-0.095,0.094c-0.377,0.386-0.679,0.834-0.895,1.328   c-0.013,0.029-0.027,0.056-0.039,0.085c-0.1,0.242-0.178,0.494-0.235,0.754c-0.01,0.047-0.018,0.095-0.026,0.143   c-0.049,0.268-0.083,0.54-0.083,0.82c0,0.298,0.032,0.587,0.088,0.869c0.019,0.095,0.053,0.183,0.078,0.275   c0.048,0.182,0.097,0.364,0.167,0.537c0.042,0.104,0.098,0.2,0.147,0.3c0.074,0.15,0.149,0.299,0.239,0.439   c0.064,0.099,0.137,0.19,0.208,0.283c0.097,0.127,0.194,0.252,0.304,0.368c0.082,0.087,0.17,0.167,0.259,0.248   c0.116,0.106,0.236,0.206,0.363,0.299c0.098,0.072,0.198,0.138,0.301,0.202c0.134,0.083,0.272,0.157,0.415,0.225   c0.11,0.053,0.22,0.103,0.334,0.146c0.151,0.058,0.306,0.103,0.464,0.144c0.118,0.031,0.234,0.063,0.356,0.084   c0.049,0.009,0.095,0.027,0.145,0.034c0.089,1.006,0.134,2.027,0.134,3.044C52.965,43.612,51.219,47.7,48.161,50.812z    M54.903,36.781c-0.021-0.371-0.062-0.737-0.094-1.105c1.59-0.502,2.797-1.848,3.081-3.522c0.046,0.243,0.076,0.493,0.076,0.75   C57.965,34.785,56.655,36.357,54.903,36.781z"
                    />

                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M26.331,18.692c0.183,0.141,0.398,0.209,0.612,0.209c0.298,0,0.594-0.133,0.791-0.387c0.338-0.437,0.259-1.065-0.178-1.403   c-1.577-1.222-2.482-3.061-2.482-5.043c0-3.52,2.863-6.383,6.383-6.383s6.383,2.863,6.383,6.383c0,1.792-0.73,3.455-2.056,4.681   c-0.405,0.375-0.43,1.007-0.055,1.413c0.375,0.405,1.007,0.43,1.413,0.055c1.714-1.585,2.697-3.827,2.697-6.149   c0-4.622-3.761-8.383-8.383-8.383s-8.383,3.761-8.383,8.383C23.074,14.673,24.261,17.088,26.331,18.692z"
                    />

                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M31.871,53.004c-4.542,0.393-8.312-0.206-12.227-1.939c-0.506-0.223-1.096,0.004-1.319,0.51   c-0.224,0.505,0.005,1.096,0.51,1.319c3.386,1.499,6.781,2.222,10.513,2.222c0.878,0,1.776-0.04,2.696-0.12   c0.55-0.047,0.958-0.532,0.91-1.082C32.906,53.364,32.419,52.945,31.871,53.004z"
                    />
                  </svg>
                </button>
              </li>
              <li className="bg-base-300 rounded-full">
                <button
                  onClick={() => {
                    document
                      .getElementById("remote-sensing")
                      ?.scrollIntoView({ behavior: "smooth" });
                  }}
                  className="absolute flex items-center justify-center btn btn-circle -start-4 text-neutral-content bg-base-300 "
                >
                  <svg
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    viewBox="0 0 512 512"
                    className="h-5 w-5 stroke-current "
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M391.533,254.147c-0.853-2.56-4.267-4.267-6.827-4.267c-3.413,0-5.973,0.853-7.68,3.413l-40.515,55.059l-19.219-19.219
                    l42.667-42.667c1.707-1.707,2.56-3.413,2.56-5.973s-0.853-4.267-2.56-5.973l-5.973-5.973l17.92-17.92
                    c1.707-1.707,2.56-3.413,2.56-5.973s-0.853-4.267-2.56-5.973l-24.32-24.32l13.874-13.874c5.627,1.627,11.802,0.144,16.419-4.472
                    c6.827-6.827,6.827-17.067,0-23.893s-17.067-6.827-23.893,0c-4.616,4.616-6.099,10.792-4.472,16.419l-13.875,13.875l-24.32-24.32
                    c-3.413-3.413-8.533-3.413-11.947,0l-17.92,17.92l-5.973-5.973c-3.413-3.413-8.533-3.413-11.947,0l-42.667,42.667l-12.373-12.373
                    l48.213-48.213c1.707-2.56,2.56-5.12,2.56-7.68s-1.707-5.12-4.267-5.973L109.933,45.933c-2.56-1.707-5.973-0.853-8.533,0.853
                    L2.413,120.173C-0.147,121.88-1,124.44-1,127.853s2.56,5.973,5.12,6.827l165.547,77.653c0.853,0.853,2.56,0.853,3.413,0.853
                    c1.707,0,4.267-0.853,5.12-2.56l18.347-18.347l12.373,12.373l-47.787,47.787c-1.707,1.707-2.56,3.413-2.56,5.973
                    s0.853,4.267,2.56,5.973l5.973,5.973l-18.773,18.773c-1.707,1.707-2.56,3.413-2.56,5.973s0.853,4.267,2.56,5.973l60.587,60.587
                    c1.707,1.707,3.413,2.56,5.973,2.56c2.56,0,4.267-1.707,5.973-2.56l18.773-18.773l5.973,5.973c1.707,1.707,3.413,2.56,5.973,2.56
                    c1.707,0,4.267-0.853,5.973-2.56l47.787-47.787l21.036,21.036l-15.917,21.63c-1.707,2.56-1.707,5.973-0.853,8.533l66.56,153.6
                    c0.853,2.56,3.413,5.12,6.827,5.12h0.853c2.56,0,5.12-1.707,6.827-4.267l72.533-98.987c1.707-2.56,2.56-5.973,0.853-8.533
                    L391.533,254.147z M170.52,194.413l-146.773-69.12l83.627-61.44l128.853,64.853L170.52,194.413z M215.747,343.747l-48.64-48.64
                    l11.947-11.947l48.64,48.64L215.747,343.747z M305.347,156.013l48.64,48.64L342.04,216.6l-48.64-48.64L305.347,156.013z
                     M251.587,330.947l-72.533-72.533l90.453-90.453l5.973,5.973l60.587,60.587l5.973,5.973L251.587,330.947z M385.56,485.4
                    l-58.027-134.827l54.613-75.947l64,128L385.56,485.4z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M365.933-1c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533c70.827,0,128,57.173,128,128
                    c0,5.12,3.413,8.533,8.533,8.533s8.533-3.413,8.533-8.533C511,63.853,446.147-1,365.933-1z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M365.933,41.667c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533c46.933,0,85.333,38.4,85.333,85.333
                    c0,5.12,3.413,8.533,8.533,8.533c5.12,0,8.533-3.413,8.533-8.533C468.333,87.747,422.253,41.667,365.933,41.667z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M408.6,144.067c0,5.12,3.413,8.533,8.533,8.533s8.533-3.413,8.533-8.533c0-33.28-26.453-59.733-59.733-59.733
                    c-5.12,0-8.533,3.413-8.533,8.533c0,5.12,3.413,8.533,8.533,8.533C389.827,101.4,408.6,120.173,408.6,144.067z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M208.92,252.44c-3.413,3.413-3.413,8.533,0,11.947s8.533,3.413,11.947,0c3.413-2.56,3.413-8.533,0-11.947
                    S212.333,249.027,208.92,252.44z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M233.667,228.547c-3.413,3.413-3.413,8.533,0,11.947s8.533,3.413,11.947,0c2.56-3.413,2.56-8.533,0-11.947
                    C242.2,225.133,237.08,225.133,233.667,228.547z"
                    />
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M257.56,204.653c-3.413,3.413-3.413,8.533,0,11.947s8.533,3.413,11.947,0s3.413-8.533,0-11.947
                    S260.973,201.24,257.56,204.653z"
                    />
                  </svg>
                </button>
              </li>
              <li className="bg-base-300 rounded-full">
                <button
                  onClick={() => {
                    document
                      .getElementById("child-deprivation")
                      ?.scrollIntoView({ behavior: "smooth" });
                  }}
                  className="absolute flex items-center justify-center btn btn-circle -start-4 text-neutral-content bg-base-300 "
                >
                  <svg
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    viewBox="0 0 24 24"
                    className="h-5 w-5 stroke-current "
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth="0"
                      d="M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm5 2h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm1-6h4v4h-4V5zM3 20a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6zm2-5h4v4H5v-4zm8 5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6zm2-5h4v4h-4v-4z"
                    />
                  </svg>
                </button>
              </li>
            </ul>
          </div>
        </span>
      )}
    </section>
  );
};
